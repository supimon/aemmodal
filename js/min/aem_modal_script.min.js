!function(e){e.fn.as=function(n){var t={slide_length:0,slide_current:1,slide_next:0,index_current:1,index_next:0,interval:null,paused:!1,resizing:!1,doTransition:!1,clickEvent:"click"};Modernizr&&(Modernizr.csstransitions?doTransition=!0:doTransition=!1,Modernizr.touch?clickEvent="touchstart":clickEvent="click");var i,a,s=e.extend({},{animation_duration:700,animation_interval:8e3,touch_draglimit:80},n),r={},d=this,o=e(window).width(),l=e(window).height(),c=d.width(),u=function(){d.wrap('<div class="as-wrap"><div class="as-view"></div></div>'),r.view=d.parent(),r.wrap=r.view.parent(),r.slider=e("> ul",d),r.slider.addClass("as-slider").attr("data-current-slide",t.slide_current).attr("data-current-index",t.index_current),t.slide_length=r.slider.children("li").length,r.wrap.append('<div class="as-progress"><div class="as-progress-value"></div></div>'),r.progress=r.wrap.find(".as-progress-value"),r.wrap.append('<ol class="as-markers"/>'),e.each(r.slider.children("li"),function(n,i){var a,s=n+1,d=e('<li class="as-mark"><a href="#" data-slide="'+s+'"><span>&bull;</span></a></li>');a=n+2,s===t.slide_current&&d.addClass("active"),d.on(clickEvent,"a",function(e){e.preventDefault(),m(),t.paused=!1,t.slide_current!==a&&E(!1,a)}),d.appendTo(e(".as-markers",r.wrap))}),r.markers=e(".as-markers > li",r.wrap),i=e("> li",r.slider).eq(0).clone(),a=e("> li",r.slider).eq(t.slide_length-1).clone(),i.attr({"data-clone":"last","data-slide":0}).appendTo(r.slider),a.attr({"data-clone":"first","data-slide":0}).prependTo(r.slider),r.item=r.slider.children("li"),r.item.addClass("as-item"),t.slide_length=r.item.length,r.wrap.append('<div class="as-nav"><a href="#" class="dir-prev" data-dir="prev"><span><span></span></span></a><a href="#" class="dir-next" data-dir="next"><span><span></span></span></a></div>'),r.nav=r.wrap.find(".as-nav"),r.nav_prev=r.nav.find(".dir-prev"),r.nav_next=r.nav.find(".dir-next")},p=function(){r.slider.addClass("no-transition"),x(),r.wrap.show(0,function(){r.wrap.addClass("loaded"),r.slider.removeClass("no-transition")})},v=0,h=function(){var n=e(window).width(),t=e(window).height(),i=d.width();o===n&&l===t||(o=n,l=t,c=i,v&&clearTimeout(v),v=setTimeout(g,50),f())},f=function(){t.paused=!0,t.resizing=!0,t.resizing&&(r.progress.stop(),r.slider.addClass("no-transition"))},g=function(){_(),t.resizing&&(t.resizing=!1,t.paused=!1,m(),r.slider.removeClass("no-transition"))},m=function(){r.progress.stop().css("width","0%"),w()},w=function(){t.paused?setTimeout(function(){t.paused||(clearInterval(t.interval),x())},s.animation_duration):(clearInterval(t.interval),x())},x=function(){r.progress.animate({width:"100%"},s.animation_interval),t.interval=setInterval(function(){E("next",!1)},s.animation_interval)},_=function(){c=r.wrap.width(),r.slider.css({width:c*t.slide_length,left:-c*t.slide_current}),e(".as-item").css({width:c})},C=function(){e(window).bind("resize",h),r.wrap.on("mouseenter",function(){t.paused||(t.paused=!0,r.wrap.addClass("hovering"),clearInterval(t.interval),r.progress.stop())}).on("mouseleave",function(){t.paused&&(m(),r.wrap.removeClass("hovering"),t.paused=!1)}),r.markers.parent().on("mouseenter",function(){r.wrap.addClass("hovering-marker")}).on("mouseleave",function(){r.wrap.removeClass("hovering-marker")}),r.nav_prev.on(clickEvent,function(e){e.preventDefault(),r.progress.stop(),t.paused=!1,E("prev",!1)}),r.nav_next.on(clickEvent,function(e){e.preventDefault(),r.progress.stop(),t.paused=!1,E("next",!1)}),e(".as-stop",r.wrap).on(clickEvent,function(e){e.preventDefault(),r.progress.stop(),clearInterval(t.interval)}),k(),e(document).keydown(function(e){if(32===e.keyCode)return r.wrap.hasClass("stopped")?(r.wrap.removeClass("stopped"),m()):(r.wrap.addClass("stopped"),clearInterval(t.interval),r.progress.stop()),!1})},k=function(){r.touch={start:{x:0,y:0},end:{x:0,y:0}},r.view.bind("touchstart",T)},T=function(e){if(console.log("%cf: onTouchStart()","color:#888; font-style:italic;"),!t.paused){t.paused=!0,r.touch.originalPos=d.position();var n=e.originalEvent;r.touch.start.x=n.changedTouches[0].pageX,r.touch.start.y=n.changedTouches[0].pageY,r.view.bind("touchmove",b),r.view.bind("touchend",y)}},b=function(e){var n=e.originalEvent;3*Math.abs(n.changedTouches[0].pageX-r.touch.start.x)>Math.abs(n.changedTouches[0].pageY-r.touch.start.y)&&(e.preventDefault(),console.log("Swipe horizontal"));var t=0,i=n.changedTouches[0].pageX-r.touch.start.x;console.log("Value: "+t+"\nChange: "+i),t=r.touch.originalPos.left+i},y=function(e){console.log("%cf: onTouchEnd()","color:#888; font-style:italic;"),r.view.unbind("touchmove",b),t.paused=!1;var n=e.originalEvent;r.touch.end.x=n.changedTouches[0].pageX,r.touch.end.y=n.changedTouches[0].pageY;var i;i=r.touch.end.x-r.touch.start.x,r.touch.end.y,r.touch.start.y,r.touch.originalPos.left,Math.abs(i)>=s.touch_draglimit&&E(i<0?"next":"prev",!1),r.view.unbind("touchend",y)},E=function(e,n){if(!t.paused){t.paused=!0,n?(t.slide_next=n,t.index_next=n-1):q(e);var i=t.index_next-1;i===t.slide_length-2?i=0:-1===i&&(i=t.slide_length-3),r.markers.removeClass("active").eq(i).addClass("active"),doTransition?(r.slider.css({left:-t.index_next*c}),setTimeout(function(){z()},1.5*s.animation_duration),r.slider.removeClass("no-transition")):r.slider.stop(!1,!1).animate({left:-t.index_next*c},s.animation_duration,function(){z()})}t.paused=!1},z=function(){t.slide_current=t.slide_next,t.index_current=t.index_next,"last"===r.item.eq(t.index_current).attr("data-clone")?(r.slider.addClass("no-transition"),r.slider.css({left:-c}),t.slide_current=2,t.index_current=1):"first"===r.item.eq(t.index_current).attr("data-clone")&&(r.slider.addClass("no-transition"),r.slider.css({left:-c*(t.slide_length-2)}),t.slide_current=t.slide_length-1,t.index_current=t.slide_length-2),m(),t.paused=!1,r.slider.attr("data-current-slide",t.slide_current).attr("data-current-index",t.index_current)},q=function(e){"next"===e?r.item.eq(t.index_current).next().length?(t.index_next=t.index_current+1,t.slide_next=t.slide_current+1):(t.index_next=0,t.slide_next=1):r.item.eq(t.index_current).prev().length?(t.index_next=t.index_current-1,t.slide_next=t.slide_current-1):(t.index_next=t.slide_length-1,t.slide_next=t.slide_length)};u(),p(),_(),C()}}(jQuery),jQuery(document).ready(function(e){var n=e(".cd-modal-trigger"),t=e(".cd-transition-layer"),i=t.children(),a=e(".cd-modal"),s=1.78,r=t.data("frame"),d=!1;function o(){var n,t,a=e(window).width(),o=e(window).height();a/o>s?n=(t=a)/s:t=(n=1.2*o)*s,i.css({width:t*r+"px",height:n+"px"}),d=!1}o(),e(window).on("resize",function(){d||(d=!0,window.requestAnimationFrame?window.requestAnimationFrame(o):setTimeout(o,300))}),n.on("click",function(n){n.preventDefault();var i=e(n.target).attr("href");t.addClass("visible opening");var s=e(".no-cssanimations").length>0?0:800;setTimeout(function(){a.filter(i).addClass("visible"),t.removeClass("opening")},s)}),a.on("click",".modal-close",function(e){e.preventDefault(),t.addClass("closing"),a.removeClass("visible"),i.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){t.removeClass("closing opening visible"),i.off("webkitAnimationEnd oanimationend msAnimationEnd animationend")})}),e("#download-btn").click(function(n){n.preventDefault(),e(".thank-you").hide(),e(".input-holder").hasClass("expanded")?(e("#download-btn").text("Sending..."),setTimeout(function(){e("#download-btn").text("Request Download"),e(".thank-you").fadeIn("fast").delay(3e3).fadeOut("fast")},2e3),e(".input-holder").slideUp(500,function(){e(this).removeClass("expanded"),e(".modal-form input").val("")})):e(".input-holder").slideDown(500,function(){e("#name_field").focus(),e(this).addClass("expanded")})}),e(".my-slider").as()});