<!doctype html>
<html lang="en" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Rock+Salt|PT+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/reset.css"> <!-- CSS reset -->
    <link rel="stylesheet" href="css/scribble_style.css"> <!-- Resource style -->

    <title>Scribble Modal</title>
</head>
<body class="scribble-transition">
<main class="cd-main-content">
    <div class="center">
        <h1>Scribble</h1>
        <a href="#modal-1" class="cd-btn cd-modal-trigger">Start Effect</a>
    </div>
</main> <!-- .cd-main-content -->

<div class="cd-modal" id="modal-1">
    <div class="modal-content">
        <div class="modal-form">
            <img src="img/app_icon1.png">
            <div class="form-holder">
                <form>
                    <input id="name_field" type="text" required placeholder="Name">
                    <input id="email_field" type="email" required placeholder="Email id">
                    <input id="phone_field" type="number" required placeholder="Phone number">
                    <button id="download-btn" type="submit" class="cd-btn">Request Download</button>
                </form>
            </div>
        </div>
        <div class="modal-description">
            <h2>My Modal Content</h2>

            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad modi repellendus, optio eveniet eligendi molestiae? Fugiat, temporibus! A rerum pariatur neque laborum earum, illum voluptatibus eum voluptatem fugiat, porro animi tempora? Sit harum nulla, nesciunt molestias, iusto aliquam aperiam est qui possimus reprehenderit ipsam ea aut assumenda inventore iste! Animi quaerat facere repudiandae earum quisquam accusamus tempora, delectus nesciunt, provident quae aliquam, voluptatum beatae quis similique in maiores repellat eligendi voluptas veniam optio illum vero! Eius, dignissimos esse eligendi veniam.
            </p>

            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Debitis saepe amet sit fugit rerum, corporis minus vitae officia quaerat incidunt voluptate, blanditiis ea est quibusdam voluptas animi quasi totam magni, commodi praesentium. Possimus quam illo ipsam iste unde totam cupiditate deleniti, impedit assumenda hic eligendi natus tempora dolores quod mollitia ab non sunt eaque adipisci, suscipit quas aliquid officiis beatae. Necessitatibus voluptatibus, perferendis tenetur perspiciatis adipisci nesciunt eum ex fuga commodi iure numquam enim rem ullam labore nisi magni sint voluptatem quos! Eum iure exercitationem voluptates repellendus culpa doloremque laborum animi illum, sint fugit soluta possimus a fuga veritatis molestias corporis placeat illo pariatur dolor reiciendis earum, sapiente omnis. Placeat maiores omnis, porro officia, laborum eos. Fugiat mollitia inventore consequuntur odit eaque, rerum recusandae, eum sint molestiae consequatur culpa deserunt quae aliquid dolor tempora tenetur architecto repellendus enim quasi atque, odio voluptas. Tenetur repellendus explicabo ipsum inventore quia aut eos expedita necessitatibus asperiores blanditiis! Delectus nisi laudantium ipsum! Quasi blanditiis corrupti dicta maiores placeat laboriosam delectus ipsum facere voluptas, magnam voluptatibus, perferendis alias ullam saepe, perspiciatis recusandae voluptates, dolores praesentium?
            </p>
        </div>
    </div> <!-- .modal-content -->

    <a href="#0" class="modal-close">Close</a>
</div> <!-- .cd-modal -->

<div class="cd-transition-layer" data-frame="38">
    <div class="bg-layer"></div>
</div> <!-- .cd-transition-layer -->

<script src="js/modernizr.js"></script> <!-- Modernizr -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
  if( !window.jQuery ) document.write('<script src="js/jquery-2.2.1-min.js"><\/script>');
</script>
<script src="js/main.js"></script> <!-- Resource jQuery -->
<script>
  $.fn.extend({
    animateCss: function(animationName, callback) {
      var animationEnd = (function(el) {
        var animations = {
          animation: 'animationend',
          OAnimation: 'oAnimationEnd',
          MozAnimation: 'mozAnimationEnd',
          WebkitAnimation: 'webkitAnimationEnd',
        };

        for (var t in animations) {
          if (el.style[t] !== undefined) {
            return animations[t];
          }
        }
      })(document.createElement('div'));

      this.addClass('animated ' + animationName).one(animationEnd, function() {
        /*$(this).removeClass('animated ' + animationName);*/

        if (typeof callback === 'function') callback();
      });

      return this;
    },
  });
  $('#download-btn').click(function(e){
    e.preventDefault();
    if(!$('.form-holder form').hasClass('animated'))
      $('.form-holder form').animateCss('bounceInDown', function() {
        $('#name_field').focus();
        $('.form-holder form').addClass('expanded').removeClass('bounceInDown');
      });
    else{
      $('.form-holder form').animateCss('bounceOutUp', function() {
        $('.form-holder input').val("");
        $('.form-holder form').removeClass('expanded').removeClass('animated bounceOutUp');
      });
      $('#download-btn').text('Sending...');
      setTimeout(function(){
        $('#download-btn').text('Request Download');
      }, 2000);
    }
  })
</script>
</body>
</html>